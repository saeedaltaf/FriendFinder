<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Friend Finder</title>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery.js"></script>

    <!-- jQuery Modal
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css"/> -->

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">

    <!-- Compiled and minified Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <!-- Link to Materialize Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>
<style>

</style>

<body>
    <div class=c ontainer>
        <h2>Survey Questions</h2>
        <hr>
        <h4><strong>About You</strong></h4>
        <hr>
        <h7>Name (*)</h7>
        <input type="text" id="name" class="form-control">
        <br>
        <h7>Link to Photo Image (*)</h7>
        <input type="text" id="photo" class="form-control">
        <hr>
        <div class="form-group">
            <h4><strong>Question 1</strong></h4>
            <h6>Your mind is always buzzing with unexplored ideas and plans.</h6>
            <select class="form-control" id="question1">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h4><strong>Question 2</strong></h4>
            <h6>Generally speaking, you rely more on your experience than your imagination.</h6>
            <select class="form-control" id="question2">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 3</strong></h4>
            <h6>You find it early to stay relaxed and focused even when there is some pressure.</h6>
            <select class="form-control" id="question3">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 4</strong></h4>
            <h6>You rarely do something just out of sheer curiosity.</h6>
            <select class="form-control" id="question4">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 5</strong></h4>
            <h6>Your favorite season is Fall.</h6>
            <select class="form-control" id="question5">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 6</strong></h4>
            <h6>Lunch is your favorite meal of the day.</h6>
            <select class="form-control" id="question6">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 7</strong></h4>
            <h6>Having coffee in morning is the only way to start the day.</h6>
            <select class="form-control" id="question7">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 8</strong></h4>
            <h6>You enjoy bright colors more than darker colors.</h6>
            <select class="form-control" id="question8">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 9</strong></h4>
            <h6>You love spending time with friends, because it makes you feel more energetic.</h6>
            <select class="form-control" id="question9">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>

        <div class="form-group">
            <h4><strong>Question 10</strong></h4>
            <h6>Early birds are better than night owls.</h6>
            <select class="form-control" id="question10">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
        </div>
        <hr>
        <button type="button" class="btn btn-info btn-lg btn-block" id="submitButton">Submit Responses <i class = "fa fa-angle-double-right"></i></button>
        <br>
    </div>
    </div>
    <!-- Modal HTML embedded directly into document
            <div id="ex1" class="modal">
                    <p>Your closest match is: </p>
                    <h4 id="userMatchName"></h4>
                    <a href="http://localhost8080/survey" rel="modal:close">Fill out the survey again!</a>
            </div>
    <script type = "text/javascript">
        $(document).ready(function() {
            // Activate Submit Button // 
            $("#submitButton").on("click", function(event) {
                event.preventDefault(); 
                // Grab user input //
                var userInput = {
                    name: $("#name").val().trim(),
                    photo: $("#photo").val().trim(),
                    scores: [
                        $("#question1").val().trim(),
                        $("#question2").val().trim(),
                        $("#question3").val().trim(),
                        $("#question4").val().trim(),
                        $("#question5").val().trim(),
                        $("#question6").val().trim(),
                        $("#question7").val().trim(),
                        $("#question8").val().trim(),
                        $("#question9").val().trim(),
                        $("#question10").val().trim()
                    ]
                };
                // Add user input to friends list // 
                $.post("/api/friends", userInput)
                    .done(function(data) {
                        console.log(data);
                        $("#userMatchName").html(data.matchName);
                        $("#matchImage").attr("src", data.matchImage);
                        $("#ex1").modal('open');
                    });
            });
        });
    </script>
</body>
</html> -->

    <!-- Modal Dialog Displaying Closest Friend Match -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <p>Your closest match is: </p>
            <div class="divider"></div>
            <h4 id="userMatchName"></h4>
            <img id="userMatchImage" class="materialboxed" width="650" src="">
        </div>
        <div class="modal-footer">
            <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
        </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            $("select").material_select();
            $('select').material_select('destroy'); // Removes automatic ul created by the materialize framework // 
            $("select[required]").css({
                display: "inline",
                height: 0,
                padding: 0,
                width: 0
            });
            $('.modal').modal({
                dismissible: false, // Modal can be dismissed by clicking outside of the modal
                opacity: .5, // Opacity of modal background
                inDuration: 300, // Transition in duration
                outDuration: 200, // Transition out duration
                startingTop: '4%', // Starting top style attribute
                endingTop: '10%' // Ending top style attribute
            });
            // Activate submit button
            $("#submitButton").on("click", function(event) {
                event.preventDefault();
                // Gather user inputs
                var userInput = {
                    name: $('#name').val().trim(),
                    photo: $('#photo').val().trim(),
                    scores: [
                        $('#question1').val().trim(),
                        $('#question2').val().trim(),
                        $('#question3').val().trim(),
                        $('#question4').val().trim(),
                        $('#question5').val().trim(),
                        $('#question6').val().trim(),
                        $('#question7').val().trim(),
                        $('#question8').val().trim(),
                        $('#question9').val().trim(),
                        $('#question10').val().trim()
                    ]
                };
                console.log("User Input: ", userInput);
                // Add user inputs to friends list
                $.post("/api/friends", userInput)
                    .done(function(data) {
                        $('#userMatchName').html(data.matchName);
                        $("#userMatchImage").attr("src", "./images/" + data.matchImage);
                        $('#modal1').modal('open');
                    });
            });
        });
    </script>
</body>

</html>